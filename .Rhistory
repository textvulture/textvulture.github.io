country <- c("South Korea",
"Hungary",
"Russia")
expression %>%
filter(vdem_country_name == country) %>%
filter(year>1979) %>%
ggplot(aes(x=year, y=v2x_freexp,
fill=vdem_country_name, label=vdem_country_name)) +
theme_minimal() +
geom_vline(xintercept = c(2008, 2017), color="gray",
linetype="longdash", alpha=0.85) +
geom_ribbon(aes(ymin = v2x_freexp_codelow,
ymax = v2x_freexp_codehigh),
alpha=0.2) +
geom_textline(aes(label=vdem_country_name,
color=vdem_country_name)) +
theme(legend.position = "none",
axis.text=element_text(size=15),
axis.title=element_text(size=15)) +
labs(x="year", y="Freedom of Expression Index")
summary(expression$vdem_country_name)
rm(list = ls())
library(vdem) #remotes::install_github("xmarquez/vdem")
var <- c("v2x_freexp")
country <- c("South Korea",
"Hungary",
"Russia")
expression <- extract_vdem(
include_sd = TRUE,
label_pattern = "expression"
)
expression %>%
filter(vdem_country_name == country) %>%
filter(year>1979) %>%
ggplot(aes(x=year, y=v2x_freexp,
fill=vdem_country_name, label=vdem_country_name)) +
theme_minimal() +
geom_vline(xintercept = c(2008, 2017), color="gray",
linetype="longdash", alpha=0.85) +
geom_ribbon(aes(ymin = v2x_freexp_codelow,
ymax = v2x_freexp_codehigh),
alpha=0.2) +
geom_textline(aes(label=vdem_country_name,
color=vdem_country_name)) +
theme(legend.position = "none",
axis.text=element_text(size=15),
axis.title=element_text(size=15)) +
labs(x="year", y="Freedom of Expression Index")
expression %>%
filter(vdem_country_name == country) %>%
filter(year>1979) %>%
ggplot(aes(x=year, y=v2x_freexp,
fill=vdem_country_name, label=vdem_country_name)) +
theme_minimal() +
geom_vline(xintercept = c(2008, 2017), color="gray",
linetype="longdash", alpha=0.85) +
geom_ribbon(aes(ymin = v2x_freexp_codelow,
ymax = v2x_freexp_codehigh),
alpha=0.2) +
geom_textline(aes(label=vdem_country_name,
color=vdem_country_name)) +
theme(legend.position = "none",
axis.text=element_text(size=15),
axis.title=element_text(size=15)) +
labs(x="year", y="Freedom of Expression Index")
expression %>%
filter(vdem_country_name == "South Korea") -> temp
library(ggplot2)
expression %>%
filter(vdem_country_name == country) %>%
filter(year>1979) %>%
ggplot(aes(x=year, y=v2x_freexp,
fill=vdem_country_name, label=vdem_country_name)) +
theme_minimal() +
geom_vline(xintercept = c(2008, 2017), color="gray",
linetype="longdash", alpha=0.85) +
geom_ribbon(aes(ymin = v2x_freexp_codelow,
ymax = v2x_freexp_codehigh),
alpha=0.2) +
geom_textline(aes(label=vdem_country_name,
color=vdem_country_name)) +
theme(legend.position = "none",
axis.text=element_text(size=15),
axis.title=element_text(size=15)) +
labs(x="year", y="Freedom of Expression Index")
# to use FontAwesome
#htmltools::tagList(rmarkdown::html_dependency_font_awesome())
library(fs)
library(fontawesome)
# library(magick)
library(ggplot2)
library(vdem) #remotes::install_github("xmarquez/vdem")
xaringan::inf_mr()
xaringan::inf_mr()
rm(list = ls())
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
# to use FontAwesome
#htmltools::tagList(rmarkdown::html_dependency_font_awesome())
library(fs)
library(fontawesome)
# library(magick)
library(tidyverse)
rm(list = ls())
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
xaringan::inf_mr()
install.packages('ggThemeAssist')
library(ggThemeAssist)
library(tidyverse)
library(WDI)
library(ggplot2)
var = c('m.stock' = "SM.POP.TOTL",
'm.stock.per' = 'SM.POP.TOTL.ZS',
'refugee.send' = 'SM.POP.REFG.OR',
'refugee.arrive' = 'SM.POP.REFG',
'GDPpc' = 'NY.GDP.PCAP.KD')
wdi <- WDI(indicator=var,
start=1985,
country = 'all',
end=2020,
extra=TRUE)
wdi %>%
filter(region != "Aggregates" ) %>%
ggplot(aes(y=m.stock.per, x=year, color=region)) +
geom_point(alpha=0.75, size=6) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom")
ggThemeAssist:::ggThemeAssistAddin()
wdi %>%
filter(region != "Aggregates" ) %>%
ggplot(aes(y=m.stock.per, x=year, color=region)) +
geom_point(alpha=0.5, size=6) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom")
+ theme(axis.text = element_text(size = 20),
legend.title = element_text(size = 15))
wdi %>%
filter(region != "Aggregates" ) %>%
mutate(Asia = case_when(region == "East Asia & Pacific" ~ "E.Asia/Pac",
region == "South Asia" ~ "S.Asia",
region != "East Asia & Pacific" & region != "South Asia" ~ "Rest")) %>%
ggplot(aes(y=m.stock.per, x=year, color=Asia)) +
geom_point(alpha=0.5, size=6) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom")
+ theme(axis.text = element_text(size = 20),
legend.title = element_text(size = 15))
wdi %>%
filter(region != "Aggregates" ) %>%
mutate(Asia = case_when(region == "East Asia & Pacific" ~ "E.Asia/Pac",
region == "South Asia" ~ "S.Asia",
region != "East Asia & Pacific" & region != "South Asia" ~ "Rest")) %>%
ggplot(aes(y=m.stock.per, x=year, color=Asia)) +
geom_point(alpha=0.5, size=6) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = element_text(size = 15))
wdi %>%
filter(region != "Aggregates" ) %>%
mutate(Asia = case_when(region == "East Asia & Pacific" ~ "E.Asia/Pac",
region == "South Asia" ~ "S.Asia",
region != "East Asia & Pacific" & region != "South Asia" ~ "Rest")) %>%
ggplot(aes(y=m.stock.per, x=year, color=Asia)) +
geom_point(alpha=0.5, size=6) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NA)
wdi %>%
filter(region != "Aggregates" ) %>%
mutate(Asia = case_when(region == "East Asia & Pacific" ~ "E.Asia/Pac",
region == "South Asia" ~ "S.Asia",
region != "East Asia & Pacific" & region != "South Asia" ~ "Rest")) %>%
ggplot(aes(y=m.stock.per, x=year, color=Asia)) +
geom_point(alpha=0.5, size=6) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi %>%
filter(region != "Aggregates" ) %>%
mutate(Asia = case_when(region == "East Asia & Pacific" ~ "E.Asia/Pac",
region == "South Asia" ~ "S.Asia",
region != "East Asia & Pacific" & region != "South Asia" ~ "Rest")) -> wdi2
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="South Asia"), fill=Asia, alpha=0.5, size=6) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="South Asia"), alpha=0.5, size=6) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="South Asia"), color=Asia, alpha=0.5, size=6) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="South Asia"), aes(fill=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"), aes(fill=gray), alpha=0.15, size=6)
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="South Asia"), aes(fill=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"), aes(fill=gray), alpha=0.15, size=6) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="South Asia"), aes(fill=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"), aes(fill='gray'), alpha=0.15, size=6) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="S.Asia"), aes(fill=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"), aes(fill='gray'), alpha=0.15, size=6) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="S.Asia"), aes(color=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"), aes(fill='gray'), alpha=0.15, size=6) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="S.Asia"), aes(color=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"),  alpha=0.15, size=6) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="S.Asia"), aes(color=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"),  alpha=0.1, size=2) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
View(wdi2)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="S.Asia"), aes(color=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"),  alpha=0.1, size=2) +
geom_label_repel(data=wdi2 %>% filter(Asia=="E.Asia/Pac" &
m.stock.per>50),
aes(label=country), color='red') +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
library(ggrepel)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="S.Asia"), aes(color=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"),  alpha=0.1, size=2) +
geom_label_repel(data=wdi2 %>% filter(Asia=="E.Asia/Pac" &
m.stock.per>50),
aes(label=country), color='red') +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="S.Asia"), aes(color=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"),  alpha=0.1, size=2) +
geom_label_repel(data=wdi2 %>% filter(Asia=="E.Asia/Pac" &
m.stock.per>50),
aes(label=country), color='red', size=3) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="S.Asia"), aes(color=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"),  alpha=0.1, size=2) +
geom_label_repel(data=wdi2 %>% filter(Asia=="E.Asia/Pac" &
m.stock.per>50),
aes(label=country), color='red', size=3, alpha=0.2) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="S.Asia"), aes(color=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"),  alpha=0.1, size=2) +
geom_label_repel(data=wdi2 %>% filter(Asia=="E.Asia/Pac" &
m.stock.per<50 & m.stock.per>25),
aes(label=country), color='red', size=3, alpha=0.5) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="S.Asia"), aes(color=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"),  alpha=0.1, size=2) +
geom_label_repel(data=wdi2 %>% filter(Asia=="E.Asia/Pac" &
m.stock.per<50 & m.stock.per>25 &
m.stock>50000),
aes(label=country), color='red', size=3, alpha=0.5) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="S.Asia"), aes(color=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"),  alpha=0.1, size=2) +
geom_label_repel(data=wdi2 %>% filter(Asia=="E.Asia/Pac" &
m.stock.per<40 &
m.stock>100000),
aes(label=country), color='red', size=3, alpha=0.5) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="S.Asia"), aes(color=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"),  alpha=0.1, size=2) +
geom_label_repel(data=wdi2 %>% filter(Asia=="E.Asia/Pac" &
m.stock.per>40 &
m.stock>100000),
aes(label=country), color='red', size=3, alpha=0.5) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="S.Asia"), aes(color=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"),  alpha=0.1, size=2) +
geom_label_repel(data=wdi2 %>% filter(Asia=="E.Asia/Pac" &
m.stock.per>40 &
m.stock>100000),
aes(label=country), color='red', size=3, alpha=0.5) +
geom_label_repel(data=wdi2 %>% filter(m.stock.per>75 &
m.stock>100000),
aes(label=country), color='gray', size=3, alpha=0.5) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="S.Asia"), aes(color=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"),  alpha=0.1, size=2) +
geom_label_repel(data=wdi2 %>% filter(Asia=="E.Asia/Pac" &
m.stock.per>40 &
m.stock>100000),
aes(label=country), color='red', size=3, alpha=0.5) +
geom_label_repel(data=wdi2 %>% filter(m.stock.per>75 &
m.stock>100000),
aes(label=country), color='gray', size=3, alpha=0.75) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="S.Asia"), aes(color=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"),  alpha=0.1, size=2) +
geom_label_repel(data=wdi2 %>% filter(Asia=="E.Asia/Pac" &
m.stock.per>40 &
m.stock>100000),
aes(label=country), color='red', size=3, alpha=0.5) +
geom_label_repel(data=wdi2 %>% filter(m.stock.per>75 &
m.stock>100000),
aes(label=country), color='gray', size=3, alpha=0.75) +
geom_label_repel(data=wdi2 %>% filter(country=="South Korea" | country=="Japan"),
aes(label=country), color='gray', size=3) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
View(wdi2)
wdi2 %>%
ggplot(aes(y=m.stock.per, x=year)) +
geom_point(data=wdi2 %>% filter(Asia=="E.Asia/Pac" |
Asia=="S.Asia"), aes(color=Asia), alpha=0.5, size=6) +
geom_point(data=wdi2 %>% filter(Asia=="Rest"),  alpha=0.1, size=2) +
geom_label_repel(data=wdi2 %>% filter(Asia=="E.Asia/Pac" &
m.stock.per>40 &
m.stock>100000),
aes(label=country), color='red', size=3, alpha=0.5) +
geom_label_repel(data=wdi2 %>% filter(m.stock.per>75 &
m.stock>100000),
aes(label=country), color='gray', size=3, alpha=0.75) +
geom_label_repel(data=wdi2 %>% filter(country=="Korea, Rep." | country=="Japan"),
aes(label=country), color='gray', size=3) +
labs(y="Migrant Stock % of population",
x="Year") +
theme_minimal() +
theme(legend.position="bottom") +
theme(axis.text = element_text(size = 20),
legend.title = NULL)
xaringan::inf_mr()
kable(txt_tbl %>%
kable_styling(full_width = F) %>%
kable_styling("striped", full_width = F) %>%
row_spec(1, align = 'c')
)
